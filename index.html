<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <title>Supabase 測試</title>
  <link rel="stylesheet" href="css.css">
</head>
<body>

  <button id="main_btn">data</button>
  <button id="chat_btn">chat</button>

  <div id="chat" style="display: block;">
    <t1>請輸入誆稱:<input id="chat_name"></t1>
    <input id="chat_text">
    <button id="chat_btn" onclick="window.add(2)">發送</button>
    <h1 style="position:absolute;left:300px;top:90px;">聊天室</h1>
    <div id="chat_box">
      <ul id="chat_box_ul" ></ul>
    </div>
  </div>

  <div id="main" style="display:none;">
    <h1>Supabase 資料表內容</h1>
    <div id="back" style="width:100%;height:100%"></div>

    <div id="read">
      <h1 id="read_data"></h1>
      <h2 id="text"></h2>
      <ul id="read_list"></ul>
      <br>
      <button style="border-radius:8px;width:40px;height:35px;" onclick="window.add(1)">+</button>
    </div>
  </div>

  <script type="module">
async function testRender() {
  try {
    const res = await fetch("https://chat-ax5a.onrender.com/api/hello");
    const data = await res.json();
    console.log("Render 後端回應：", data);

    const h = document.createElement("h3");
    h.textContent = "後端說：" + data.msg;
    document.body.appendChild(h);
  } catch(err) {
    console.error("Render 連線失敗", err);
    const h = document.createElement("h3");
    h.textContent = "Render 連線失敗：" + err;
    document.body.appendChild(h);
  }
}

testRender();
</script>

</body>
</html>

